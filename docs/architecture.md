# 系统架构说明

TradSig 采用「Web 为核心，iOS 为轻量客户端」的整体架构设计，目标是在保证功能完整性的同时，降低客户端复杂度，提高系统可维护性。

---

## 架构概览

整体由以下几个部分组成：

1. Web 服务（网站）
2. 扫描与记录生成模块
3. 推送服务（APNs）
4. iOS 客户端（WebView）

---

## 1. Web 服务（核心）

Web 服务是 TradSig 的核心组成部分，主要职责包括：

- 用户登录与身份认证
- 权限控制（不同页面 / 品种的访问权限）
- 交易记录的展示与管理
- 提供数据接口与页面内容

网站作为唯一的数据源，所有记录、状态与权限判断均在服务器侧完成。

---

## 2. 扫描与记录生成模块

系统内部通过独立的扫描与处理逻辑，定期或按事件生成新的交易记录。

当检测到新的记录或状态变化时，会形成一批“更新结果”，供后续推送模块消费。

该模块仅负责记录生成，不直接与客户端通信。

---

## 3. 推送服务（APNs）

推送服务基于 Apple Push Notification service（APNs），主要流程如下：

- 根据扫描结果确定需要推送的记录
- 按用户与设备维度进行去重处理
- 构造包含关键信息的推送 payload
- 将推送发送至对应的 iOS 设备

推送内容仅用于提示用户“有新的记录更新”，不包含完整业务数据。

---

## 4. iOS 客户端（WebView）

iOS 客户端采用轻量化设计，主要功能包括：

- 通过 WebView 展示网站内容
- 注册并维护设备推送 token
- 接收系统推送通知
- 在用户点击推送时，承接并打开对应页面

客户端不保存业务数据，也不承担核心业务逻辑，所有数据均来自 Web 服务。

---

## 设计原则

- **Web 优先**：业务逻辑集中在服务器，减少客户端复杂度  
- **轻客户端**：iOS 仅作为展示与提醒工具  
- **低耦合**：扫描、推送、展示模块职责清晰  
- **可维护性**：便于长期演进与功能扩展  

---

## 说明

本架构说明仅用于产品展示与理解，不涉及具体实现细节或源代码。
